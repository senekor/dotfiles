# Only use 1password as the ssh-agent when there is no active ssh session.
# While ssh'd onto a remote machine, we use ssh-agent forwarding.
#
Match host * exec "test -z $SSH_CONNECTION"
  IdentityAgent "~/.1password/agent.sock"

Host gh
  User git
  HostName github.com

Host ghz
  User git
  HostName github.zhaw.ch

Host bg
  User git
  HostName git.buenzli.dev

Host pi
  User remo
  HostName yd6kjn4il1zruspp.myfritz.net
  ForwardAgent yes

# chezmoi:template:left-delimiter="# {{"
# {{- if eq .org "zhaw" }}

# zhaw

Host zhaw-desktop
  User senk
  HostName 160.85.232.182
  ForwardAgent yes

Host gh-actions-runner
  User senk
  HostName srv-lab-t-581.zhaw.ch

Host savedge-ingest
  User senk
  HostName srv-lab-t-416.zhaw.ch
  ForwardAgent yes

Host nano-kistler
  User kistler
  HostName 192.168.101.23
  ForwardAgent yes

# {{- end }}
